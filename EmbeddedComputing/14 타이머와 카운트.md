14 타이머와 카운트
===

# 1. 타이머와 카운트

타이머와 카운트는 입력되는 펄스를 세는 장치입니다. 즉, 카운터를 의미합니다. 입력펄스는 시스템 클록이 일반적을 사용됩니다.

펄스의 주기가 일정하면 펄스의 수로 시간 측정이 가능합니다. 즉, 타이머 역할을 할 수 있습니다.

- ATmega328의 타이머와 카운터

    - 8비트 타이머와 카운터 2개 : Timer / Counter 0 & 2
    - 16비트 타이머와 카운터 1개 : Timer / Counter 1

    ![alt](img/타이머와%20카운터%20구조.png)


- 8비트 타이머/카운터는 0에서 255까지만 셀 수 있음 → 이후 오버플로 발생
    - 16MHz 클록을 사용하면 256/16M = 0.016ms의 짧은 시간만 측정 가능
    - 분주(prescale)를 통해 클록의 속도를 늦추는 효과를 얻음, 분주비는 클록을 나누는 값에 해당

- 현재까지 센 펄스의 수는 TCNTn 레지스터에 기록
- 인터럽트
    - 오버플로 인터럽트 : TCNTn 레지스터에 오버플로가 발생한 경우
    - 비교일치 인터럽트 : TCNTn 레지스터의 값이 미리 설정된 값과 동일한 경우
      - OCRnA, OCRnB의 2개 레지스터에 2개의 비교값 설정 가능 

